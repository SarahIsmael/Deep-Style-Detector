# Handwritten-style-recognition

## E-codices dataset
### Data Collection
`DataCollection.py` downloads the dataset that are images of pages from medieval manuscripts in latin language from the e-codices project using their API. No parameters are needed to run this module.

### dataset_train_info.tsv
This file that is generated by `DataCollection.py` module contains information (metadata) about the images that are downloaded such as xml file name, manuscript dating, manuscript title and the library where the manuscripts are phisically available.

### DeepStyleDetector.py
This is the main module in the project. The dataset is preprocessed, the model is generated, trained and tested based on the e-codices dataset downloaded above.

These parameteres can be used to customize the process:


Usage: 
```
DeepStyleDetector.py 
  [-h]
  [--nrows NROWS]
  [--ncols NCOLS]
  [--nchannels NCHANNELS]
  [--white_threshold WHITE_THRESHOLD]
  [--min_perentage_white_pixels MIN_PERENTAGE_WHITE_PIXELS]
  [--row_padding ROW_PADDING]
  [--col_padding COL_PADDING]
  [--num_patches NUM_PATCHES]
  [--num_cores NUM_CORES]
  [--epoches EPOCHES]
  [--batch_size BATCH_SIZE]
  [--nkernals NKERNALS]
  [--dropout DROPOUT]
  [--dense_unit DENSE_UNIT]
  [--skip_read_existing_arrays]
  [--images_dir IMAGES_DIR]
  [--output_dir OUTPUT_DIR]
  [--output_label OUTPUT_LABEL] 
  [--testing]
```

## CLamm dataset

### Clamm Data Collection
The CLAMM dataset can be downloaded from the CLAMM compition website ([Training set](https://clamm.irht.cnrs.fr/wp-content/uploads/ICDAR2017_CLaMM_Training.zip) and [Test set](https://clamm.irht.cnrs.fr/wp-content/uploads/ICDAR2017_CLaMM_task1_task3.zip))

`Clammdataprocess.py` prepares the data to be used by the DeepStyleDetectorCLAMM.py module.

Usage: 

```
Clammdataprocess.py
  [-h]
  [--images_dir_training IMAGES_DIR_TRAINING]
  [--images_dir_test IMAGES_DIR_TEST]
  [--csv_training CSV_TRAINING]
  [--csv_test CSV_TEST]
```

### DeepStyleDetectorCLAMM.py
This is the main module for preprocessing, model generattion, trainining and testing the CLamm dataset.

Usage:
```
DeepStyleDetectorCLAMM.py 
  [-h] 
  [--nrows NROWS]
  [--ncols NCOLS]
  [--nchannels NCHANNELS]
  [--white_threshold WHITE_THRESHOLD]
  [--min_perentage_white_pixels MIN_PERENTAGE_WHITE_PIXELS]
  [--row_padding ROW_PADDING]
  [--col_padding COL_PADDING]
  [--num_patches NUM_PATCHES]
  [--num_cores NUM_CORES] [--epoches EPOCHES]
  [--batch_size BATCH_SIZE]
  [--nkernals NKERNALS] [--dropout DROPOUT]
  [--dense_unit DENSE_UNIT]
  [--skip_read_existing_arrays]
  [--images_dir IMAGES_DIR]
  [--test_images_dir TEST_IMAGES_DIR]
  [--output_dir OUTPUT_DIR]
  [--output_label OUTPUT_LABEL] [--testing]
                                 

```

### Trained Models
The pre-trained models are available [here](https://drive.google.com/drive/folders/1foLYb2733MuIYYrhT76Fw4aGsvHdogXV?usp=sharing).
